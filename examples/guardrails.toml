[guardrails]
name = "shadcn-themed-project"
include = ["src/**/*"]
exclude = ["**/node_modules/**", "**/dist/**"]

# ──────────────────────────────────────────────
# Tailwind Dark Mode Enforcement
# Ensures every hardcoded color class has a dark: variant.
# shadcn semantic tokens (bg-background, text-foreground, etc.)
# are allowed by default since they handle theming via CSS vars.
# ──────────────────────────────────────────────

[[rule]]
id = "enforce-dark-mode"
type = "tailwind-dark-mode"
severity = "error"
glob = "**/*.{tsx,jsx}"
message = "Missing dark: variant for color class"
suggest = "Use a shadcn semantic token class or add an explicit dark: counterpart"
allowed_classes = []

# ──────────────────────────────────────────────
# shadcn Theme Token Enforcement
# Bans raw Tailwind color classes in favor of
# CSS-variable-based semantic tokens from shadcn/ui.
# ──────────────────────────────────────────────

[[rule]]
id = "use-theme-tokens"
type = "tailwind-theme-tokens"
severity = "warning"
glob = "**/*.{tsx,jsx}"
message = "Use shadcn semantic token instead of raw color"

# ──────────────────────────────────────────────
# Ban Inline Styles
# Catch style={{ }} in JSX — use Tailwind classes instead.
# ──────────────────────────────────────────────

[[rule]]
id = "no-inline-styles"
type = "banned-pattern"
severity = "warning"
pattern = "style={{"
glob = "**/*.{tsx,jsx}"
message = "Avoid inline styles — use Tailwind utility classes instead"
suggest = "Replace style={{ ... }} with Tailwind classes"

# ──────────────────────────────────────────────
# Ban CSS-in-JS Libraries
# If you've committed to Tailwind, these shouldn't be imported.
# ──────────────────────────────────────────────

[[rule]]
id = "no-css-in-js"
type = "banned-import"
severity = "error"
packages = ["styled-components", "@emotion/styled", "@emotion/css", "@emotion/react"]
message = "CSS-in-JS libraries conflict with Tailwind — use utility classes instead"

# ──────────────────────────────────────────────
# Ban Competing CSS Frameworks
# Prevent mixing multiple CSS frameworks in the same project.
# ──────────────────────────────────────────────

[[rule]]
id = "no-competing-frameworks"
type = "banned-dependency"
severity = "error"
packages = ["bootstrap", "bulma", "@mui/material", "antd"]
message = "Competing CSS framework detected — this project uses Tailwind + shadcn/ui"
